% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calcMetric.R
\name{extractMetric}
\alias{extractMetric}
\title{Compute a spatial metric on a spatial experiment object}
\usage{
extractMetric(df, selection, fun, marks = NULL, r_seq = NULL, by = NULL)
}
\arguments{
\item{df}{A dataframe with the x and y coordinates from the corresponding
SpatialExperiment and the ColData}

\item{selection}{the mark(s) you want to compare}

\item{fun}{the spatstat function to compute on the point pattern object}

\item{marks}{the marks to consider e.g. cell types}

\item{r_seq}{the range of r values to compute the function over}

\item{by}{the spe colData variable(s) to add to the meta data}
}
\value{
a spatstat metric object with the fov number, the number of
points and the centroid of the image
}
\description{
Compute a spatial metric on a spatial experiment object
}
\examples{
spe <- imcdatasets::Damond_2019_Pancreas("spe", full_dataset = FALSE)
spe_sub <- subset(spe, , image_number == "138")
df_sub <- .speToDf(spe_sub)
metric_res <- extractMetric(df_sub, c("alpha", "beta"),
    fun = "Gcross",
    marks = "cell_type", r_seq = seq(0, 1000, length.out = 100),
    by = c("patient_stage", "patient_id")
)
}
