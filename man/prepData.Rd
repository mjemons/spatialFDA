% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prepData.R
\name{prepData}
\alias{prepData}
\title{Prepare data from calcMetricRes to be in the right format for FDA}
\usage{
prepData(metric_res, x, y)
}
\arguments{
\item{metric_res}{a dataframe as calculated by calcMetricRes - requires
the columns ID (unique identifier of each row)}

\item{x}{the name of the x-axis of the spatial metric}

\item{y}{the name of the y-axis of the spatial metric}
}
\value{
returns a list with three entries, the unique ID, the functional
response Y and the weights
}
\description{
Prepare data from calcMetricRes to be in the right format for FDA
}
\examples{
 spe <- imcdatasets::Damond_2019_Pancreas("spe", full_dataset = FALSE)
 metric_res <- calcMetricPerFov(spe, c('alpha', 'beta'),
 subsetby = 'image_number',fun = 'Gcross', marks = 'cell_type',
 r_seq = seq(0,50, length.out = 50), by = c('patient_stage', 'patient_id'),
 ncores = 2)

#create a unique ID for each row
metric_res$ID <- paste0(metric_res$patient_stage,'x' ,metric_res$patient_id,
                       'x', metric_res$image_id)
dat <- prepData(metric_res, 'r', 'rs')
}
